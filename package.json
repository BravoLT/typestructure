{
  "name": "typestructure",
  "version": "1.0.0",
  "description": "Typestructure AWS Serverless Application Model Deployment",
  "main": "server.js",
  "config": {
    "s3BucketName": "ts-restify-sam",
    "cloudFormationStackName": "AwsServerlessExpressStack",
    "region": "us-east-1"
  },
  "scripts": {
    "serve": "nodemon --watch '../app/**/*.ts' --ignore './**/*.spec.ts' --exec 'ts-node' server.ts",
    "start": "npm run serve",
    "config": "node configure.js",
    "local": "node -e \"require('./lambda.js').handler(require('./api-gateway-event.json'), {succeed: v => { console.log(v); process.exit(0); }}, (e, v) => { console.log(v); process.exit(1); })\"",
    "invoke-lambda": "aws lambda invoke --function-name AwsServerlessExpressFunction --region $npm_package_config_region --payload file://api-gateway-event.json lambda-invoke-response.json && cat lambda-invoke-response.json",
    "create-bucket": "aws s3 mb s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "delete-bucket": "aws s3 rm s3://$npm_package_config_s3BucketName/lambda-function.zip --region $npm_package_config_region; aws s3 rm s3://$npm_package_config_s3BucketName/simple-proxy-api.yaml --region $npm_package_config_region; aws s3 rb s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "upload-api-gateway-swagger": "aws s3 cp ./simple-proxy-api.yaml s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "create-stack": "aws cloudformation create-stack --stack-name $npm_package_config_cloudFormationStackName --template-body file://./cloudformation.json --capabilities CAPABILITY_IAM --parameters ParameterKey=AwsServerlessExpressS3Bucket,ParameterValue=$npm_package_config_s3BucketName --region $npm_package_config_region",
    "update-stack": "aws cloudformation update-stack --stack-name $npm_package_config_cloudFormationStackName --template-body file://./cloudformation.json --capabilities CAPABILITY_IAM --parameters ParameterKey=AwsServerlessExpressS3Bucket,ParameterValue=$npm_package_config_s3BucketName --region $npm_package_config_region",
    "delete-stack": "aws cloudformation delete-stack --stack-name $npm_package_config_cloudFormationStackName --region $npm_package_config_region",
    "package-function": "zip -q -r lambda-function.zip lambda.js app.js index.html node_modules",
    "upload-function": "aws s3 cp ./lambda-function.zip s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "update-function": "aws lambda update-function-code --function-name AwsServerlessExpressFunction --region $npm_package_config_region --zip-file fileb://lambda-function.zip",
    "package-upload-function": "npm run package-function && npm run upload-function",
    "upload-update-function": "npm run upload-function && npm run update-function",
    "package-upload-update-function": "npm run package-upload-function && npm run update-function",
    "setup": "npm install && (aws s3api get-bucket-location --bucket $npm_package_config_s3BucketName --region $npm_package_config_region || npm run create-bucket) && npm run package-upload-function && npm run upload-api-gateway-swagger && npm run create-stack"
  },
  "repository": "git@github.com:virtualadrian/typestructure.git",
  "author": "Adrian Pavelescu",
  "license": "Apache 2.0",
  "devDependencies": {
    "@types/aws-serverless-express": "0.0.2",
    "@types/chai": "^3.4.32",
    "@types/lodash": "^4.14.43",
    "@types/mocha": "^2.2.31",
    "@types/node": "^6.0.38",
    "@types/request": "0.0.36",
    "@types/restify": "^2.0.30",
    "@types/sinon": "^1.16.29",
    "@types/stripe": "0.0.32",
    "@types/stripe-checkout": "0.0.28",
    "@types/stripe-node": "^4.6.4",
    "@types/supertest": "^2.0.0",
    "aws-serverless-express": "^1.2.0",
    "chai": "^3.5.0",
    "codelyzer": "^2.0.0-beta.3",
    "gulp": "^3.9.1",
    "gulp-istanbul": "^1.0.0",
    "gulp-mocha": "^3.0.0",
    "gulp-tslint": "^7.0.1",
    "gulp-typescript": "^3.1.3",
    "inversify": "^3.0.0-rc.2",
    "inversify-binding-decorators": "^3.0.0-beta.1",
    "inversify-restify-utils": "^3.0.0-beta.1",
    "mocha": "^3.0.0",
    "nodemon": "^1.11.0",
    "publish-please": "^2.1.4",
    "reflect-metadata": "^0.1.8",
    "run-sequence": "^1.2.0",
    "sinon": "^1.17.4",
    "source-map-support": "^0.4.0",
    "stripe": "^4.10.0",
    "supertest": "^2.0.0",
    "tslint": "^4.1.1",
    "typeorm": "0.0.5",
    "typescript": "^2.0.3"
  },
  "dependencies": {
    "aws-serverless-express": "^1.2.0",
    "lodash": "^4.17.2",
    "mysql": "^2.11.1",
    "reflect-metadata": "^0.1.8",
    "request": "^2.79.0",
    "restify": "^4.1.1",
    "stripe": "^4.14.0",
    "typeorm": "0.0.5"
  }
}
